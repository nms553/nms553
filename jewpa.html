
<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title></title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="robots" content="noindex, nofollow">
  <meta name="googlebot" content="noindex, nofollow">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <script
    type="text/javascript"
    src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"
    
  ></script>




  <style id="compiled-css" type="text/css">
      *:not(input) {
	border: 0px solid;
}

html {
	background-color: lightgray;
}

body {
	background-color: white;
	max-width: 400px;
	width: 100%;
	margin-left: auto;
	margin-right: auto;
	padding: 5%;
	border: 1px solid;
}

h1 {
	text-align: center;
}

input {
	margin: auto;
	display: block;
}

details a, #main a {
	display: table;
	margin: 10px 0px 10px 0px;
}

details {
	margin: 30px 0px 10px 0px;
}

footer {
	margin: 30px 0px 10px 0px;
	text-align: center;
	font-size: 0.8em;
}
    /* EOS */
  </style>



</head>
<body>
    <h1>
  Jewpa
</h1>

<input placeholder="your mom">

<details id="main" open><summary>Open</summary>

</details>
<br>
<details id="complete">
  <summary>Completed</summary>
</details>

<details id="trash">
  <summary>Trash</summary>
</details>

<form id="form1" method="post" action="https://script.google.com/macros/s/AKfycbzpZHMWb2YiY6-B1llGVlT7dmPAu_Su6wwDLoaUhYOoLbexG7-5/exec" target="iframe" style="display: none;">
  <input name="cell1" id="cell1" value="">
  <input name="data1" id="data1" value="">
  <input name="cell2" id="cell2" value="">
  <input name="data2" id="data2" value="">
	<input name="cell3" id="cell3" value="">
  <input name="data3" id="data3" value="">
  <iframe src="" name="iframe" id="iframe"></iframe>
</form>
<footer>
<a href="https://docs.google.com/spreadsheets/d/1DvaYXhcpPJvMFNDlDtx9oG-YGKfqtT6ZbPWqZIvaIxw/edit#gid=0">Sheet</a>
&nbsp;-&nbsp;
<a href="https://script.google.com/a/umsystem.edu/d/MYrpRAJFl44y8_NuAvUgRsMj5CSit75d3/edit?uiv=2&mid=ACjPJvEqhCin6e3cSEmy7r-GMV6pwepfE8PR2Uvlf-b0HGMZcDHY78Hdb_vyAcn2ThszgcPtCNHjHU7poPNuYXnl4HovwPO6IYDqAKTRP9rXNhVo3Df_ddL6nIV2AVn7ZdbJT45_G4oHRKw">Script</a></footer>

    <script type="text/javascript">//<![CDATA[


var cell1 = "B1"
var cell2 = "B2"
var cell3 = "B3"
var gdata = [];
var gkey = "1DvaYXhcpPJvMFNDlDtx9oG-YGKfqtT6ZbPWqZIvaIxw"
var gtab = "1"
var gsheet = "https://spreadsheets.google.com/feeds/cells/" +
  gkey + "/" + gtab + "/public/full?alt=json"
var timeout = "ready";
var xparse = [];
var yparse = [];
var zparse = [];

$(document).ready(getJSON)

function getJSON() {
  $.getJSON(gsheet, function(result) {
    var arr = result.feed.entry
    console.log(arr)
    arr.forEach(function(item, index) {
      if (item.title.$t == cell1) {
        xparse = JSON.parse(item.content.$t)
      } else if (item.title.$t == cell2) {
        yparse = JSON.parse(item.content.$t)
      } else if (item.title.$t == cell3) {
        zparse = JSON.parse(item.content.$t)
      }
    })
    go();
  })
}

function go() {
  xparse.forEach(function(item, index) {
    var a = $("<a href='javascript:'></a>").text(item)
    $("#main").append(a)
  })
  yparse.forEach(function(item, index) {
    var a = $("<a href='javascript:'></a>").text(item)
    $("#complete").append(a)
  })
	zparse.forEach(function(item, index) {
    var a = $("<a href='javascript:'></a>").text(item)
    $("#trash").append(a)
  })
}


$("input").change(function() {
  var value = $(this).val()
  var a = $("<a href='javascript:'></a>").text(value)
  $("#main").prepend(a)
  setTimeout(function() {
    $("input").val("")
  }, 2000);

  save();
})

$("#main").on('click', 'a', function() {
  if ($(this).index() == "0") {
    $("#complete").prepend($(this))
  } else {
    $("#main").prepend($(this))
  }
  save();
})

$("#complete").on('click', 'a', function() {
  if ($(this).index("#complete a") == "0") {
    $("#trash").prepend($(this))
  } else {
    $("#complete").prepend($(this))
  }
  save();
})

$("#trash").on('click', 'a', function() {
  if ($(this).index("#trash a") == "0") {
    $("#main").prepend($(this))
  } else {
    $("#trash").prepend($(this))
  }
  save();
})


function save() {
  var x = [];
  var y = [];
	var z = [];
  $("#main a").each(function() {
    var val = $(this).text()
    x.push(val)
  })
  console.log(x)
  $("#complete a").each(function() {
    var val = $(this).text()
    y.push(val)
  })
  console.log(y)
	$("#trash a").each(function() {
    var val = $(this).text()
    z.push(val)
  })
  var xstr = JSON.stringify(x)
  var ystr = JSON.stringify(y)
	var zstr = JSON.stringify(z)
  localStorage.setItem("jewpax", xstr)
  localStorage.setItem("jewpay", ystr)
	localStorage.setItem("jewpay", zstr)
  $("#cell1").val(cell1)
  $("#cell2").val(cell2)
	$("#cell3").val(cell3)
  $("#data1").val(xstr)
  $("#data2").val(ystr)
	$("#data3").val(zstr)
  $("#form1").submit();
}



  //]]></script>




</body>
</html>
