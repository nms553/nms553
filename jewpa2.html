
<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title></title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="robots" content="noindex, nofollow">
  <meta name="googlebot" content="noindex, nofollow">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <script
    type="text/javascript"
    src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"
    
  ></script>



  <style id="compiled-css" type="text/css">
      body {
	width: 90%;
	max-width: 200px;
	margin-left: auto;
	margin-right: auto;
	margin-bottom: 50px;
	border: 0px solid;
}

h1 {
	text-align: center;
}

a {
	display: block;
	margin-top: 15px;
	margin-bottom: 15px;
}

#maininp {
	display: block;
	margin: auto;
	margin-bottom: 25px;
	margin-top: 25px;
}

#items {
	margin-top: 30px;
}

textarea {
	width: 100%;
	height: 50px;
}
    /* EOS */
  </style>



</head>
<body>
    <h1>
  Jewpa 3000
</h1>

<input type="text" placeholder="insert item" id="maininp">

<textarea disabled></textarea>
<button onclick="generate()">
  Generate
</button>

<div id="items">

</div>

<details id="done">
  <summary>Completed</summary>
</details>


    <script type="text/javascript">//<![CDATA[


$(document).ready(function() {
  var x = localStorage.getItem("single_list")
  var y = JSON.parse(x)
  $("#items").html(y)
	var w = localStorage.getItem("single_done")
  var v = JSON.parse(w)
  $("#done").html(v)
})

$("input").keydown(function(e) {
  if (e.which == 13) {
    var x = $(this).val()
    var a = $("<a href='javascript:'></a>").text(x)
    $("#items").prepend(a)
    $("#maininp").val("")
    save();
  }
})

function save() {
  var x = $("#items").html()
  var y = JSON.stringify(x)
  localStorage.setItem("single_list", y)
	var w = $("#done").html()
  var v = JSON.stringify(w)
  localStorage.setItem("single_done", v)
}

function generate() {
  var x = Math.random()
  var y = document.getElementById("items").getElementsByTagName("a")
  var z = y.length - 1
  var w = Math.round(x * z)
  console.log(w)
  var v = y[w].innerText
  $("textarea").val(v)
}

$("#items").on('click', 'a', function() {
  var x = $("#items a:first-child").text()
  if (x == $(this).text()) {
    $("#done").prepend($(this))
  } else {
    $("#items").prepend($(this))
  }
	save();
})

$("#done").on('click', 'a', function() {
  var x = $("#done a:first-child").text()
  if (x == $(this).text()) {
    $("#items").append($(this))
  } else {
    $("#done").prepend($(this))
  }
	save();
})

</script>
</body>
</html>
