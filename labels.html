<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <style>
    details details {
  margin-left: 30px;
  margin-bottom: 10px;
  margin-top: 10px
}

html,
body {
  font-family: sans-serif;
  font-weight: bold;
}

  </style>
</head>

<body>
<div id="0">
  
  </div>

  <script>
    var sheet = "https://spreadsheets.google.com/feeds/cells/1lNy-0mqGVv-Cg83nCG5d51XzxyQBL3bcEd-amzZ7cyQ/1/public/full?alt=json"
    var rawdata = []
    var body = document.getElementById("body")

    $(function() {
      $.getJSON(sheet, getData)
    });

    function getData(data) {
      rawdata = data.feed.entry;
      console.log(rawdata)
      var prevcol = 0;
      var prevrow = 1;

      rawdata.forEach(function(item, index) {
        var details = document.createElement("DETAILS")
        //details.setAttribute("data.col", item.gs$cell.col)
        //details.setAttribute("data.row", item.gs$cell.row)

        var summary = document.createElement("SUMMARY")
        summary.innerHTML = item.content.$t
        details.appendChild(summary)

        details.id = item.gs$cell.row
        details.className = item.gs$cell.col

        if (item.gs$cell.col > prevcol) {
          prevrow = item.gs$cell.row - 1
          prevcol++
          var level = document.getElementById(prevrow)
          level.appendChild(details)

        } else if (item.gs$cell.col < prevcol) {
          var column = item.gs$cell.col - 1
          var root = document.getElementsByClassName(column)
          console.log(root)
          var iden = root[root.length - 1]
          console.log(iden)
          iden.appendChild(details)
          console.log(iden.id)
          prevrow = item.gs$cell.row

        } else {
          var level = document.getElementById(prevrow)
          level.appendChild(details)
        }

        $("a").attr("target", "_blank")



      })

    }

  </script>
  <footer>
    <a href="https://github.com/nms553/nms553.github.io/edit/master/labels.html" target="_blank">GH</a>
  </footer>
  
</body>

