
<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title></title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="robots" content="noindex, nofollow">
  <meta name="googlebot" content="noindex, nofollow">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <script
    type="text/javascript"
    src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"
    
  ></script>

    <link rel="stylesheet" type="text/css" href="/css/result-light.css">


  <style id="compiled-css" type="text/css">
      * {
  //outline: 1px solid white;
  font-family: 'Lato', sans-serif;
  //color: white;
}

div, center, h1, footer, p, button, input[type=submit], input[type=text] {
  margin-top: 20px;
  margin-bottom: 20px;
}

body {
  margin: 20px auto 20px auto;
  text-align: center;
  //background-color: #222;
  width: 100%;
  max-width: 300px;
  font-size: 1em;
}

table {
  border-collapse: collapse;
}

tr:nth-child(13) td {
  padding-bottom: 25px;
  border-bottom: 1px solid;
}

tr:nth-child(14) td {
  padding-top: 25px;
}

select {
  //background-color: #222;
}

label {
  display: block;
  padding: 0px 0px 5px 0px;
  //background-color: #444;
  vertical-align: middle;
  width: 100%;
  margin: 10px 0px 10px 0px;
  height: 40px;
}

label span {
  vertical-align: middle;
  display: inline-block;
  margin-top: auto;
  margin-bottom: auto;
  width: 150px;
  text-decoration: underline;
  color: blue;
  cursor: pointer;
}

img {
  display: inline-block;
  vertical-align: middle;
}

#maindiv {
  display: inline-block;
  margin: auto;
  text-align: left;
}

.strike {
  text-decoration: line-through;
  //color: #555;
}

input[type=checkbox] {
  width: 15px;
  height: 15px;
  vertical-align: middle;
}

input[type=submit], input[type=text] {
  //color: black;
}

mark {
  margin-left: 5px;
  padding: 2px 2px 2px 2px;
  font-size: 0.7em;
  //color: black;
  vertical-align: middle;
  //float: right;
  opacity: 75%;
}

#banner {
  opacity: 85%;
}

label:nth-child(13) {
  padding-bottom: 50px;
  border-bottom: 1px solid;
}

label:nth-child(14) {
  margin-top: 50px;
}


    /* EOS */
  </style>

  <script id="insert"></script>


</head>
<body>
    <!DOCTYPE html>
<html>

  <head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&display=swap" rel="stylesheet">
    <script src=""></script>

  </head>

  <body>

    <a href="https://www.stupid-fast.com/"><img src="https://www.stupid-fast.com/banner.png" id="banner" width="300"></a>
<center>
      
      <table>
        <tbody id="tbody">
        </tbody>
      </table>
        
      

    <form method="post" action="https://script.google.com/macros/s/AKfycbypsLtjVRCBtbKCH5Sh4cS6AtqYHjO9JjlRJeB9p0tLMgFB7L881_SVR8hNsndyX_JP/exec" target="iframe" onsubmit="refreshPage()">
      

      <br>
      <input type="text" name="trashtalk" style="width: 90%;" placeholder="trashtalk or other driver">
      <input type="hidden" name="player" value="">
      <br>
      <input type="submit">
    </form>

    <iframe name="iframe" style="display:none;">

    </iframe>

</center>


  </body>

</html>


    <script type="text/javascript">//<![CDATA[


var playerlist = [""]
var tbody = document.getElementById("tbody")
var players = [
"",
"ChrisC",
"Mike",
"Dave",
"Hannah",
"Poepsel",
"ChrisL",
"Schriewer",
"Katie",
"Scot",
"Nick",
"Faith",
"Curt"
]


$(document).ready(function() {



  $.get("https://script.google.com/macros/s/AKfycbw7AdLhX_Eu8djjg4F36qhuabEso5mHdjXbwz8CVjzkgwMSZB0Dh3-qcPnNedQ96XwqIA/exec", function(result) {
    result = JSON.parse(result)
    //console.log(result)


    result.forEach(function(item, index) {
    var tr = tbody.insertRow()
    	var td1 = tr.insertCell()
      tr.insertCell().innerText = item[0]
      
      var img = document.createElement("IMG")
      img.src = "https://stupid-fast.com/d/" + "d" + item[1] + ".png"
      img.alt = ""
      img.width = "60"
      td1.appendChild(img)
      var td2 = tr.insertCell()
      var select = document.createElement("SELECT")
      players.forEach(function(jtem, jndex) {
      	var opt = document.createElement("OPTION")
        opt.innerText = jtem
      	select.add(opt)
        select.id = item[0].replace(/\ /g,"").replace(/\./g,"")
        select.name = item[0]
        select.onchange = function() {submitPicks(this.value, this.name)}
      })
      td2.appendChild(select)
    
    })
    
    $.get("https://script.google.com/macros/s/AKfycbwCY0Y3ltu7lo3UYaSyb4QuqQxZF_fiS4-6bYJbl0BBL904FxYUiPeMoY3DElI71Naw/exec", function(values) {
    values = JSON.parse(values)
    //console.log(values)
    var track = values[values.length - 1][0]
    //console.log(track)
    
    var filtered = values.filter(function(item, index) {
    return item[0] == track
    })
    
    filtered.forEach(function(item, index) {
    	var driver1 = item[3].replace(/\ /g,"").replace(/\./g,"")
      var driver2 = item[4].replace(/\ /g,"").replace(/\./g,"")
      try {
document.getElementById(driver1).value = item[2]
      } catch(e) {
      
      } try {
document.getElementById(driver2).value = item[2]
      } catch(e) {
      
      }
    })
    
    
    })
    
    
  })










})



function submitPicks(value, name) {
document.getElementsByName("player")[0].value = value
  $.post("https://script.google.com/macros/s/AKfycbwXYbBKugPmShETIoIuwKNOlKDQZ8Sw0ErMG-ZcqD61Q-VrMhzteTr880zWF4R7NBMV5w/exec", {player: value, driver: name}, function(result){
  
  });

}


function refreshPage() {
	setTimeout(function() {
  	window.open("https://stupid-fast.com")
  }, 3000);
}

/*

function getDrivers() {
  
  getPicks()
}

function getPicks() {
  
}








});
//return playerlist
}









function changePlayer(value) {
  var url = "https://www.stupid-fast.com/picks?player="
  url = url + value
  window.open(url, "_self");
}

function refreshPage(value) {
  var value = select.value
  setTimeout(function() {
    changePlayer(value)
  }, 1000);
}

*/



  //]]></script>

  <script>
    // tell the embed parent frame the height of the content
    if (window.parent && window.parent.parent){
      window.parent.parent.postMessage(["resultsFrame", {
        height: document.body.getBoundingClientRect().height,
        slug: "u9v0p6bc"
      }], "*")
    }

    // always overwrite window.name, in case users try to set it manually
    window.name = "result"
  </script>


</body>
</html>
