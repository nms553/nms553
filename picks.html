<body translate="no" >
  <!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&display=swap" rel="stylesheet">
  <style>
* {
  //outline: 1px solid white;
  font-family: "Lato", sans-serif;
  //color: white;
}

div,
center,
h1,
footer,
p,
button,
input[type="submit"],
input[type="text"] {
  margin-top: 20px;
  margin-bottom: 20px;
}

body {
  margin: 20px auto 20px auto;
  text-align: center;
  //background-color: #222;
  width: 100%;
  max-width: 300px;
  font-size: 1em;
}

table {
  border-collapse: collapse;
}

tr:nth-child(13) td {
  padding-bottom: 25px;
  border-bottom: 1px solid;
}

tr:nth-child(14) td {
  padding-top: 25px;
}

select {
  //background-color: #222;
}

label {
  display: block;
  padding: 0px 0px 5px 0px;
  //background-color: #444;
  vertical-align: middle;
  width: 100%;
  margin: 10px 0px 10px 0px;
  height: 40px;
}

label span {
  vertical-align: middle;
  display: inline-block;
  margin-top: auto;
  margin-bottom: auto;
  width: 150px;
  text-decoration: underline;
  color: blue;
  cursor: pointer;
}

img {
  display: inline-block;
  vertical-align: middle;
}

#maindiv {
  display: inline-block;
  margin: auto;
  text-align: left;
}

.strike {
  text-decoration: line-through;
  //color: #555;
}

input[type="checkbox"] {
  width: 15px;
  height: 15px;
  vertical-align: middle;
}

input[type="submit"],
input[type="text"] {
  //color: black;
}

mark {
  margin-left: 5px;
  padding: 2px 2px 2px 2px;
  font-size: 0.7em;
  //color: black;
  vertical-align: middle;
  //float: right;
  opacity: 75%;
}

#banner {
  opacity: 85%;
}

label:nth-child(13) {
  padding-bottom: 50px;
  border-bottom: 1px solid;
}

label:nth-child(14) {
  margin-top: 50px;
}
</style>

</head>

<body>

  <a href="https://www.stupid-fast.com/"><img src="https://www.stupid-fast.com/banner.png" id="banner" width="300"></a>
  <center>

    <table>
      <tbody id="tbody">
      </tbody>
    </table>

    <form method="post" action="https://script.google.com/macros/s/AKfycbxWY4yfPYawPQlV60bP6pMoZbvW124OZSMf_ftGk3QkUUyuFoDvnClgScK3JXHyu--w/exec" target="iframe" onsubmit="refreshPage()">

      <br>
      <input type="text" name="trashtalk" style="width: 90%;" placeholder="trashtalk or other driver">
      <input type="hidden" name="player" value="">
      <input type="hidden" name="driver" value="">
      <br>
      <input type="submit">
    </form>

    <iframe name="iframe" style="display:none;">

    </iframe>

  </center>

</body>

</html>
    <script src="https://cpwebassets.codepen.io/assets/common/stopExecutionOnTimeout-1b93190375e9ccc259df3a57c1abc0e64599724ae30d7ea4c6877eb615f89387.js"></script>

  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js'></script>
      <script id="rendered-js" >
var playerlist = [""];
var tbody = document.getElementById("tbody");
var players = [
"",
"ChrisC",
"Mike",
"Dave",
"Hannah",
"Poepsel",
"ChrisL",
"Schriewer",
"Katie",
"Scot",
"Nick",
"Faith",
"Curt"];


$(document).ready(function () {
  $.get(
  "https://script.google.com/macros/s/AKfycbxWY4yfPYawPQlV60bP6pMoZbvW124OZSMf_ftGk3QkUUyuFoDvnClgScK3JXHyu--w/exec",
  function (result) {
    result = JSON.parse(result);
    console.log(result);

    result.forEach(function (item, index) {
      var tr = tbody.insertRow();
      var td1 = tr.insertCell();
      tr.insertCell().innerText = item.Driver;

      var img = document.createElement("IMG");
      img.src = "https://stupid-fast.com/d/" + "d" + item.No + ".png";
      img.alt = "";
      img.width = "60";
      td1.appendChild(img);
      var td2 = tr.insertCell();
      var select = document.createElement("SELECT");
      players.forEach(function (jtem, jndex) {
        var opt = document.createElement("OPTION");
        opt.innerText = jtem;
        select.add(opt);
        select.name = item.Driver;
        select.onchange = function () {
          submitPicks(this.value, this.name);
        };
      });
      td2.appendChild(select);
      select.value = item.Player;
    });
  });

});

function submitPicks(value, name) {
  document.getElementsByName("player")[0].value = value;
  $.post(
  "https://script.google.com/macros/s/AKfycbxWY4yfPYawPQlV60bP6pMoZbvW124OZSMf_ftGk3QkUUyuFoDvnClgScK3JXHyu--w/exec",
  { player: value, driver: name },
  function (result) {
    console.log(value, name);
  });

}

function refreshPage() {
  setTimeout(function () {
    window.open("https://stupid-fast.com");
  }, 3000);
}


    </script>

  

</body>
