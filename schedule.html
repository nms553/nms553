
<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>nascar schedule 2023</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="robots" content="noindex, nofollow">
  <meta name="googlebot" content="noindex, nofollow">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <script
    type="text/javascript"
    src="/js/lib/dummy.js"
    
  ></script>

    <link rel="stylesheet" type="text/css" href="/css/result-light.css">


  <style id="compiled-css" type="text/css">
    center center {
  width: 100%;
  max-width: 300px;
}

table {
  width: 100%;
  font-size: 0.85em;
  font-family: sans-serif;
  border-collapse: collapse;
}

table tr:nth-child(even) {
  background: #EEE;
}

table tr td:nth-child(2) {
  font-weight: bold;
}


    /* EOS */
  </style>

  <script id="insert"></script>

</head>
<body>
    <center>
<center>
  
  <table id="table" cellpadding="3">
    
  </table>
  
  <script src="https://stupid-fast.com/gviz.js"></script>
  
  <footer>
  <br>
    <small>https://jsfiddle.net/schweissguth/av147cfg/</small>
  </footer>
</center>
</center>



    <script type="text/javascript">//<![CDATA[




fetch("https://cf.nascar.com/cacher/2023/race_list_basic.json").then(function(e) {
return e.text();
}).then(function(result) {
	var parse = JSON.parse(result)
  console.log(parse)
    var today = new Date()
  parse.series_1.forEach(function(item) {
  	var tr = table.insertRow()
    var date = new Date(item.date_scheduled)
    
    if (date < today) {
    	tr.style.color = "lightgray"
    }
    tr.insertCell().innerText = date.toLocaleDateString()
    tr.insertCell().innerText = item.track_name
    var minutes = "00"
    if (new Date(item.race_date).getMinutes() > 0) {
    	minutes = new Date(item.race_date).getMinutes()
    }
    tr.insertCell().innerHTML = (new Date(item.race_date).getHours() - 13) + ":" + minutes + "cst"
    tr.insertCell().innerHTML = item.radio_broadcaster
    tr.insertCell().innerHTML = item.television_broadcaster
  })
})


  //]]></script>

  <script>
    // tell the embed parent frame the height of the content
    if (window.parent && window.parent.parent){
      window.parent.parent.postMessage(["resultsFrame", {
        height: document.body.getBoundingClientRect().height,
        slug: "av147cfg"
      }], "*")
    }

    // always overwrite window.name, in case users try to set it manually
    window.name = "result"
  </script>


</body>
</html>
